apiVersion: apis.integrityshield.io/v1alpha1
kind: IntegrityShield
metadata:
  name: integrity-shield-server
  finalizers:
  - cleanup.finalizers.integrityshield.io
spec:
  # namespace: integrity-shield-operator-system
  shieldConfig:
    inScopeNamespaceSelector:
      include:
      - "*"
      exclude:
      - "kube-*"
      - "openshift-*"
  signerConfig:
    policies:
    - namespaces:
      - "*"
      signers:
      - "SampleSigner"
    - scope: "Cluster"
      signers:
      - "SampleSigner"
    signers:
    - name: "SampleSigner"
      keyConfig: sample-signer-keyconfig
      subjects:
      - commonName: "*"
  # resourceSigningProfiles:
  # - name: operator-csv-rsp
  #   targetNamespaceSelector:
  #     include:
  #     - "*"
  #     exclude: 
  #     - "kube-*"
  #     - "openshift-*"
  #     - "open-*"
  #     - "olm"
  #   protectRules:
  #   - match:
  #     - kind: ClusterServiceVersion
  #   kustomizePatterns:
  #   - match:
  #     - kind: ClusterServiceVersion
  #     allowNamespaceChange: true
  keyConfig:
  - name: sample-signer-keyconfig
    useDefaultRootCert: true
    signatureType: sigstore
  # server:
  #   image: localhost:5000/integrity-shield-server:0.1.6
  # logger:
  #   image: localhost:5000/integrity-shield-logging:0.1.6
